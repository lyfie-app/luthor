# Luthor Documentation Full Corpus

Concatenated markdown corpus for AI ingestion.

Source root: C:\Users\rahul\Documents\GitHub\luthor\apps\web\src\content\docs
Generated at: 2026-02-24T10:58:58.192Z

---
## FILE: getting-started/index.md
## URL: https://www.luthor.fyi/docs/getting-started/
---

---
title: Introduction
description: What Luthor and Luthor Headless are, and when to use each package.
---

# Introduction

`@lyfie/luthor` and `@lyfie/luthor-headless` solve different needs.

## @lyfie/luthor

Use this when you want a production-ready editor quickly.

- Includes preset editors and prebuilt UI
- Includes `@lyfie/luthor-headless` under the hood
- Best for fast shipping with strong defaults

## @lyfie/luthor-headless

Use this when you want full control over UI and behavior.

- Extension-first architecture
- Bring your own toolbar and app UX
- Best for custom product-specific editing flows

## Compatibility

Based on package metadata in `packages/luthor/package.json` and `packages/headless/package.json`:

- React: `^18.0.0 || ^19.0.0`
- React DOM: `^18.0.0 || ^19.0.0`
- TypeScript/TSX: fully supported (the APIs are TypeScript-first)
- Lexical:
  - `@lyfie/luthor`: uses Lexical `^0.40.0` dependencies internally
  - `@lyfie/luthor-headless`: peer dependency `>=0.40.0` for `lexical` and required `@lexical/*` packages

## Which package should you choose?

- Choose `@lyfie/luthor` if you want speed and ready-made preset UX.
- Choose `@lyfie/luthor-headless` if you need deep customization and your own UI.

## Next

- [Installation](/docs/getting-started/installation/)
- [Get Started @lyfie/luthor](/docs/getting-started/luthor/)
- [Get Started @lyfie/luthor-headless](/docs/getting-started/luthor-headless/)

---
## FILE: getting-started/installation.md
## URL: https://www.luthor.fyi/docs/getting-started/installation/
---

---
title: Installation
description: Install, update, uninstall, and avoid common mistakes for both packages.
---

# Installation

This page covers install, update, and uninstall for both packages.

## Install @lyfie/luthor

```bash
npm install @lyfie/luthor react react-dom
```

## Install @lyfie/luthor-headless

```bash
npm install @lyfie/luthor-headless lexical @lexical/code @lexical/link @lexical/list @lexical/markdown @lexical/react @lexical/rich-text @lexical/selection @lexical/table @lexical/utils react react-dom
```

Optional for headless:

```bash
npm install highlight.js
```

```bash
npm install @emoji-mart/data
```

## Update packages

```bash
npm update @lyfie/luthor @lyfie/luthor-headless
```

## Uninstall packages

```bash
npm uninstall @lyfie/luthor @lyfie/luthor-headless
```

If you installed headless peers directly and want to remove them too:

```bash
npm uninstall lexical @lexical/code @lexical/link @lexical/list @lexical/markdown @lexical/react @lexical/rich-text @lexical/selection @lexical/table @lexical/utils highlight.js @emoji-mart/data
```

## Common mistakes and things to keep in mind

### 1) Missing Lexical peer dependencies (headless only)

`@lyfie/luthor-headless` requires `lexical` + key `@lexical/*` packages. If these are missing, runtime/editor init fails.

### 2) Missing styles with @lyfie/luthor

Always import preset styles:

```tsx
import '@lyfie/luthor/styles.css';
```

### 3) Version mismatches across React/Lexical

Keep React and Lexical versions compatible with package peer ranges from `package.json`.

### 4) Using preset docs for headless setup (or vice versa)

- `@lyfie/luthor`: preset-first, ready UI
- `@lyfie/luthor-headless`: extension-first, custom UI

### 5) Optional dependencies confusion

`highlight.js` and `@emoji-mart/data` are optional for headless. The editor still works without them.

## Next

- [Get Started @lyfie/luthor](/docs/getting-started/luthor/)
- [Get Started @lyfie/luthor-headless](/docs/getting-started/luthor-headless/)

---
## FILE: getting-started/luthor-headless.md
## URL: https://www.luthor.fyi/docs/getting-started/luthor-headless/
---

---
title: Get Started @lyfie/luthor-headless
description: Minimal setup and validation for the headless package.
---

# Get Started @lyfie/luthor-headless

Use this when you need full control over editor UI.

## 1) Install

```bash
npm install @lyfie/luthor-headless lexical @lexical/code @lexical/link @lexical/list @lexical/markdown @lexical/react @lexical/rich-text @lexical/selection @lexical/table @lexical/utils react react-dom
```

## 2) Render a minimal headless editor

```tsx
import {
  createEditorSystem,
  RichText,
  richTextExtension,
  boldExtension,
  italicExtension,
} from '@lyfie/luthor-headless';

const extensions = [richTextExtension, boldExtension, italicExtension] as const;
const { Provider, useEditor } = createEditorSystem<typeof extensions>();

function Toolbar() {
  const { commands, activeStates } = useEditor();

  return (
    <div>
      <button onClick={() => commands.toggleBold()} aria-pressed={activeStates.bold}>Bold</button>
      <button onClick={() => commands.toggleItalic()} aria-pressed={activeStates.italic}>Italic</button>
    </div>
  );
}

export function App() {
  return (
    <Provider extensions={extensions}>
      <Toolbar />
      <RichText placeholder="Write here..." />
    </Provider>
  );
}
```

## 3) Validate installation

If this works, installation is valid:

- Text area mounts
- Buttons execute bold/italic commands
- No missing peer dependency errors for Lexical packages

## Quick validation checklist

- All required `lexical` and `@lexical/*` peers are installed
- `createEditorSystem` provider wraps your editor UI
- Commands and active states are accessible from `useEditor()`

## Next

- [Headless Features](/docs/luthor-headless/features/)

---
## FILE: getting-started/luthor.md
## URL: https://www.luthor.fyi/docs/getting-started/luthor/
---

---
title: Get Started @lyfie/luthor
description: Minimal setup and validation for the preset package.
---

# Get Started @lyfie/luthor

Use this when you want a ready-to-use editor quickly.

## 1) Install

```bash
npm install @lyfie/luthor react react-dom
```

## 2) Render a basic editor

```tsx
import { ExtensiveEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <ExtensiveEditor placeholder="Start writing..." />;
}
```

## 3) Validate installation

If this renders correctly, installation is valid:

- You can type in the editor
- Toolbar appears
- No module resolution errors in dev server

## Quick validation checklist

- `@lyfie/luthor/styles.css` is impasorted
- React app builds without peer dependency warnings
- Editor mounts without runtime errors

## Next

- [Luthor Presets](/docs/luthor/presets/)

---
## FILE: index.md
## URL: https://www.luthor.fyi/docs/
---

---
title: Luthor Documentation
description: Focused documentation for getting started, luthor-headless features, and luthor presets.
---

# Luthor Documentation

This documentation is intentionally focused and grouped into three sections.

## Groups

- [Getting Started](/docs/getting-started/)
- [Luthor Headless - @lyfie/luthor-headless](/docs/luthor-headless/features/)
- [Luthor - @lyfie/luthor](/docs/luthor/presets/)

## Recommended Path

1. Read [Introduction](/docs/getting-started/)
2. Run [Installation](/docs/getting-started/installation/)
3. Follow one quick start:
   - [Get Started @lyfie/luthor](/docs/getting-started/luthor/)
   - [Get Started @lyfie/luthor-headless](/docs/getting-started/luthor-headless/)

---
## FILE: luthor-headless/features.md
## URL: https://www.luthor.fyi/docs/luthor-headless/features/
---

---
title: Features
description: Complete out-of-the-box capabilities and extension inventory for @lyfie/luthor-headless.
---

# Features - @lyfie/luthor-headless

This page summarizes what you get out of the box from the headless package.

## Core runtime

- `createEditorSystem`
- `useEditor`
- `RichText` renderer
- typed command/state wiring based on installed extensions

## Text formatting extensions

- `boldExtension`
- `italicExtension`
- `underlineExtension`
- `strikethroughExtension`
- `subscriptExtension`
- `superscriptExtension`
- `codeFormatExtension` (inline code)
- `linkExtension`
- `horizontalRuleExtension`
- `fontFamilyExtension`
- `fontSizeExtension`
- `lineHeightExtension`
- `textColorExtension`
- `textHighlightExtension`
- `blockFormatExtension`
- `listExtension`
- `tableExtension`

## Code and structure extensions

- `codeExtension`
- `codeIntelligenceExtension`
- `historyExtension`
- `tabIndentExtension`
- `enterKeyBehaviorExtension`

## Media extensions

- `imageExtension`
- `iframeEmbedExtension`
- `youTubeEmbedExtension`

## UI and interaction extensions

- `commandPaletteExtension`
- `slashCommandExtension`
- `emojiExtension`
- `floatingToolbarExtension`
- `contextMenuExtension`
- `draggableBlockExtension`

## Custom extension support

- `createCustomNodeExtension`
- base extension contracts and extension categories

## Utilities and types

- theme utilities (`defaultLuthorTheme`, `mergeThemes`, token helpers)
- markdown bridge utilities (`markdownToJSONB`, `jsonbToMarkdown`)
- rich set of exported extension config/types

## Optional ecosystem integrations

- `highlight.js` for richer code token theming
- `@emoji-mart/data` for larger emoji catalog integration

## Notes

`@lyfie/luthor` includes `@lyfie/luthor-headless` and builds preset editors on top of these capabilities.

---
## FILE: luthor/presets.md
## URL: https://www.luthor.fyi/docs/luthor/presets/
---

---
title: Presets
description: Preset catalog for @lyfie/luthor, including links to per-preset docs.
---

# Presets - @lyfie/luthor

`@lyfie/luthor` is a preset package built on top of `@lyfie/luthor-headless`.

## Important

`@lyfie/luthor-headless` is included with `@lyfie/luthor` and available via:

```ts
import { headless } from '@lyfie/luthor';
```

## Presets included

- `ExtensiveEditor`
- `SimpleTextEditor`
- `RichTextBoxEditor`
- `ChatWindowEditor`
- `EmailComposeEditor`
- `MDTextEditor`
- `NotionLikeEditor`
- `HeadlessEditorPreset`
- `NotesEditor`

## Per-preset docs

- [ExtensiveEditor](/docs/luthor/presets/extensive-editor/)
- [SimpleTextEditor](/docs/luthor/presets/simple-text-editor/)
- [RichTextBoxEditor](/docs/luthor/presets/rich-text-box-editor/)
- [ChatWindowEditor](/docs/luthor/presets/chat-window-editor/)
- [EmailComposeEditor](/docs/luthor/presets/email-compose-editor/)
- [MDTextEditor](/docs/luthor/presets/md-text-editor/)
- [NotionLikeEditor](/docs/luthor/presets/notion-like-editor/)
- [HeadlessEditorPreset](/docs/luthor/presets/headless-editor-preset/)
- [NotesEditor](/docs/luthor/presets/notes-editor/)

---
## FILE: luthor/presets/chat-window-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/chat-window-editor/
---

---
title: ChatWindowEditor
description: Usage and props for the ChatWindowEditor preset.
---

# ChatWindowEditor

Chat composer style preset with send/action controls.

## Usage

```tsx
import { ChatWindowEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return (
    <ChatWindowEditor
      onSend={({ jsonb }) => console.log(jsonb)}
      submitOnEnter
      allowShiftEnter
    />
  );
}
```

## Props

`ChatWindowEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `featureFlags`, `isToolbarEnabled`
- Adds:
  - `onSend?: (payload: { jsonb: string }) => void`
  - `submitOnEnter?: boolean`
  - `allowShiftEnter?: boolean`
  - `showVoiceButton?: boolean`
  - `showImageButton?: boolean`
  - `showSendButton?: boolean`

## Behavior

- Toolbar is disabled by preset defaults
- Visual mode only
- Enter-to-send can be configured

---
## FILE: luthor/presets/email-compose-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/email-compose-editor/
---

---
title: EmailComposeEditor
description: Usage and props for the EmailComposeEditor preset.
---

# EmailComposeEditor

Email composer preset with To/Cc/Bcc/Subject shell.

## Usage

```tsx
import { EmailComposeEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <EmailComposeEditor showCc showBcc />;
}
```

## Props

`EmailComposeEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `featureFlags`
- Adds:
  - `showTo?: boolean`
  - `showCc?: boolean`
  - `showBcc?: boolean`
  - `showSubject?: boolean`

## Behavior

Preset applies email-friendly feature defaults and renders compose header fields.

---
## FILE: luthor/presets/extensive-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/extensive-editor/
---

---
title: ExtensiveEditor
description: Usage and full props list for the ExtensiveEditor preset.
---

# ExtensiveEditor

`ExtensiveEditor` is the full-feature preset editor.

## Usage

```tsx
import { ExtensiveEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <ExtensiveEditor placeholder="Write anything..." />;
}
```

## Props

`ExtensiveEditorProps` includes:

- `className?`
- `onReady?`
- `initialTheme?`
- `theme?`
- `defaultContent?`
- `showDefaultContent?`
- `placeholder?`
- `initialMode?`
- `availableModes?`
- `variantClassName?`
- `toolbarLayout?`
- `toolbarVisibility?`
- `toolbarPosition?`
- `toolbarAlignment?`
- `toolbarClassName?`
- `toolbarStyleVars?`
- `quoteClassName?`
- `quoteStyleVars?`
- `defaultSettings?`
- `editorThemeOverrides?`
- `isToolbarEnabled?`
- `fontFamilyOptions?`
- `fontSizeOptions?`
- `lineHeightOptions?`
- `minimumDefaultLineHeight?`
- `scaleByRatio?`
- `headingOptions?`
- `paragraphLabel?`
- `syncHeadingOptionsWithCommands?`
- `slashCommandVisibility?`
- `shortcutConfig?`
- `commandPaletteShortcutOnly?`
- `isDraggableBoxEnabled?`
- `featureFlags?`
- `syntaxHighlighting?`
- `codeHighlightProvider?`
- `loadCodeHighlightProvider?`
- `maxAutoDetectCodeLength?`
- `isCopyAllowed?`
- `languageOptions?`

## Ref API

`ExtensiveEditorRef`:

- `injectJSONB(content: string)`
- `getJSONB(): string`

## Notes

This is the base preset that other presets reuse via `ExtensiveEditorProps`.

---
## FILE: luthor/presets/headless-editor-preset.md
## URL: https://www.luthor.fyi/docs/luthor/presets/headless-editor-preset/
---

---
title: HeadlessEditorPreset
description: Usage and props for the HeadlessEditorPreset preset.
---

# HeadlessEditorPreset

Small reference preset demonstrating direct headless composition.

## Usage

```tsx
import { HeadlessEditorPreset } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <HeadlessEditorPreset placeholder="Start writing..." />;
}
```

## Props

`HeadlessEditorPresetProps`:

- `className?: string`
- `placeholder?: string`

## Behavior

Uses a minimal extension set (`richText`, `history`, `bold`, `italic`, `underline`, `list`) and a lightweight toolbar.

---
## FILE: luthor/presets/md-text-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/md-text-editor/
---

---
title: MDTextEditor
description: Usage and props for the MDTextEditor preset.
---

# MDTextEditor

Preset that switches between Visual and Markdown editing.

## Usage

```tsx
import { MDTextEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <MDTextEditor initialMode="visual" />;
}
```

## Props

`MDTextEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `availableModes`, `initialMode`
- Adds:
  - `initialMode?: 'visual' | 'markdown'`

## Behavior

- Uses markdown/jsonb bridge for mode conversion
- Applies feature defaults suitable for markdown workflows

---
## FILE: luthor/presets/notes-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/notes-editor/
---

---
title: NotesEditor
description: Usage and props for the NotesEditor preset.
---

# NotesEditor

Notes-style preset with title and action controls.

## Usage

```tsx
import { NotesEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return (
    <NotesEditor
      showTitle
      title="Sprint Notes"
      onTitleChange={(value) => console.log(value)}
      onPin={() => console.log('pin')}
      onArchive={() => console.log('archive')}
    />
  );
}
```

## Props

`NotesEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `featureFlags`
- Adds:
  - `showTitle?: boolean`
  - `title?: string`
  - `onTitleChange?: (value: string) => void`
  - `showActions?: boolean`
  - `onPin?: () => void`
  - `onArchive?: () => void`
  - `onColorChange?: (color: string) => void`
  - `colorOptions?: readonly string[]`

## Behavior

Toolbar is disabled by preset default and feature set is tuned for lightweight note taking.

---
## FILE: luthor/presets/notion-like-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/notion-like-editor/
---

---
title: NotionLikeEditor
description: Usage and props for the NotionLikeEditor preset.
---

# NotionLikeEditor

Slash-first preset with draggable-focused defaults.

## Usage

```tsx
import { NotionLikeEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <NotionLikeEditor isDraggableEnabled slashVisibility={{ allowlist: ['block.paragraph'] }} />;
}
```

## Props

`NotionLikeEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `featureFlags`, `isToolbarEnabled`
- Adds:
  - `slashVisibility?: SlashCommandVisibility`
  - `isDraggableEnabled?: boolean`
  - `featureFlags?: FeatureFlagOverrides`
  - `isToolbarEnabled?: boolean`

## Behavior

Defaults enable slash commands + draggable blocks + command palette with toolbar hidden by default.

---
## FILE: luthor/presets/rich-text-box-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/rich-text-box-editor/
---

---
title: RichTextBoxEditor
description: Usage and props for the RichTextBoxEditor preset.
---

# RichTextBoxEditor

Compact rich-text preset for focused editing.

## Usage

```tsx
import { RichTextBoxEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <RichTextBoxEditor compactToolbar />;
}
```

## Props

`RichTextBoxEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `featureFlags`
- Adds:
  - `featureFlags?: FeatureFlagOverrides`
  - `compactToolbar?: boolean`

## Behavior

Default feature flags enable core text formatting and disable heavier media/embed features unless re-enabled.

---
## FILE: luthor/presets/simple-text-editor.md
## URL: https://www.luthor.fyi/docs/luthor/presets/simple-text-editor/
---

---
title: SimpleTextEditor
description: Usage and props for the SimpleTextEditor preset.
---

# SimpleTextEditor

Minimal/plain-text style preset built on top of `ExtensiveEditor`.

## Usage

```tsx
import { SimpleTextEditor } from '@lyfie/luthor';
import '@lyfie/luthor/styles.css';

export function App() {
  return <SimpleTextEditor placeholder="Start writing..." />;
}
```

## Props

`SimpleTextEditorProps`:

- Inherits `ExtensiveEditorProps`
- Excludes: `featureFlags`, `availableModes`, `initialMode`, `toolbarVisibility`
- Adds:
  - `hideToolbarByDefault?: boolean` (default `true`)

## Behavior

- Forces visual-only mode
- Disables most rich features by preset defaults

