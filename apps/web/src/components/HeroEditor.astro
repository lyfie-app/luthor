---
import ExtensiveEditorIsland from './ExtensiveEditorIsland.tsx';
---

<section class="section hero-stage">
  <div class="container hero-grid">
    <div>
      <span class="eyebrow">Lexical-powered rich text editing</span>
      <h1 class="hero-title">The performance of Lexical, the simplicity of a single import.</h1>
      <p class="hero-copy">
        Luthor is a free, MIT-licensed React editor with a plug-and-play extensive preset and a headless path for deeper customization.
      </p>
      <p class="hero-live-note">Try it right now with the Extensive Editor preset.</p>
      <div class="hero-actions">
        <a class="btn btn-primary" href="/docs/getting-started/">Read docs</a>
        <a class="btn btn-muted" href="/demo">Open full demo</a>
      </div>
    </div>

    <div class="browser-frame">
      <div class="browser-frame-header">
        <div class="window-dots" aria-hidden="true">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="install-row">
          <code class="install-chip">npm install @lyfie/luthor react react-dom</code>
          <button class="copy-btn" id="copy-install-command" type="button">Copy Install Command</button>
        </div>
      </div>
      <div class="editor-pane">
        <ExtensiveEditorIsland client:load />
      </div>
    </div>
  </div>
</section>

<script>
  const copyButton = document.getElementById('copy-install-command');
  const installCommand = 'npm install @lyfie/luthor react react-dom';
  const defaultLabel = 'Copy Install Command';

  async function copyInstallCommand() {
    if (!copyButton) return;

    try {
      await navigator.clipboard.writeText(installCommand);
      copyButton.textContent = 'Copied';
    } catch {
      copyButton.textContent = 'Copy failed';
    } finally {
      window.setTimeout(() => {
        copyButton.textContent = defaultLabel;
      }, 1500);
    }
  }

  copyButton?.addEventListener('click', copyInstallCommand);
</script>
